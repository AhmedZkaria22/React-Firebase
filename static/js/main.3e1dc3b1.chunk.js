(this["webpackJsonpreact-firebase-proj"]=this["webpackJsonpreact-firebase-proj"]||[]).push([[0],{26:function(e,t,n){},38:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(31),s=n.n(r),i=n(16),o=n(6),u=(n(38),n(1));var j=function(){return Object(u.jsxs)("nav",{className:"navbar",id:"nav",children:[Object(u.jsx)("h2",{children:"React Firebase"}),Object(u.jsx)(i.b,{to:"/",children:"Budget Tracker"}),Object(u.jsx)(i.b,{to:"/phGallery",children:"Photo Grid"}),Object(u.jsx)(i.b,{to:"/account",children:"Account"})]})},l=n(5),b=n(11),d=n.n(b),O=n(17),p=n(7),h=n(21);n(56),n(55),n(46);h.a.initializeApp({apiKey:"AIzaSyCjgGnAQEq21mhDuiGEGtgYNlrAkk2gpwY",authDomain:"react-firebase-768ff.firebaseapp.com",projectId:"react-firebase-768ff",storageBucket:"react-firebase-768ff.appspot.com",messagingSenderId:"158925404231",appId:"1:158925404231:web:2dead90beb8103090e9962"});h.a;var f=h.a.firestore(),m=h.a.storage(),x=h.a.auth();var v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(l.a)(r,2),i=s[0],o=s[1];Object(c.useEffect)((function(){return f.collection("Items").orderBy("date").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})})),n=e.docs.map((function(e){return e.data().amount}));a(t),o(n.length>0&&n.reduce((function(e,t){return e+t})),0)}))}),[]);var u=function(){var e=Object(O.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("Items").add(Object(p.a)(Object(p.a)({},t),{},{amount:n}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("Items").doc(t).delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(c.useRef)(),h=Object(c.useState)([]),x=Object(l.a)(h,2),v=x[0],g=x[1],w=Object(c.useState)(0),y=Object(l.a)(w,2),S=y[0],C=y[1];return Object(c.useEffect)((function(){return f.collection("Images").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})}));g(t)}))}),[]),[n,u,j,i,b,v,S,function(e){var t=e.target.files[0],n=m.ref(t.name);n.put(t).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;C(t)}),(function(e){return console.log(e)}),Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getDownloadURL();case 2:return t=e.sent,e.next=5,f.collection("Images").add({url:t,createdAt:Date.now()});case 5:C(0),b.current.value="";case 7:case"end":return e.stop()}}),e)}))))}]};n(48);var g=function(){var e=v(),t=Object(l.a)(e,4)[3];return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"header__title",children:Object(u.jsxs)("h1",{children:["Budget Tracker",Object(u.jsx)("span",{children:"Using firebase firestore"})]})}),Object(u.jsxs)("div",{className:"header__balance",children:["$ ",t]})]})},w=n(18),y=(n(49),{title:"",type:"",date:""}),S=function(){var e=v(),t=Object(l.a)(e,2)[1],n=Object(c.useState)(y),a=Object(l.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),o=Object(l.a)(i,2),j=o[0],b=o[1],h=Object(c.useRef)(null),f=function(e){var t,n=e.target;s(Object(p.a)(Object(p.a)({},r),{},(t={},Object(w.a)(t,n.name,n.value),Object(w.a)(t,"type",h.current.value),t)))},m=function(){var e=Object(O.a)(d.a.mark((function e(n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c="expense"===h.current.value?-Math.abs(parseInt(j)):parseInt(j),e.next=4,t(r,c);case 4:s(y),b("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"input",children:Object(u.jsxs)("form",{onSubmit:m,children:[Object(u.jsx)("input",{type:"text",name:"title",placeholder:"Enter Title",onChange:f,value:r.title,autoComplete:"off",required:!0}),Object(u.jsx)("input",{type:"number",name:"amount",placeholder:"Amount",onChange:function(e){var t=e.target;b(t.value)},value:j,autoComplete:"off",required:!0}),Object(u.jsx)("input",{type:"date",name:"date",onChange:f,placeholder:"Date",value:r.date,required:!0}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"type",children:"Type"}),Object(u.jsxs)("select",{name:"type",onChange:f,ref:h,children:[Object(u.jsx)("option",{value:"income",children:"Income"}),Object(u.jsx)("option",{value:"expense",children:"Expense"})]})]}),Object(u.jsx)("input",{type:"submit",value:"ADD"})]})})};n(50);var C=function(e){var t=e.item,n=v(),a=Object(l.a)(n,3)[2],r=Object(c.useRef)();return Object(u.jsxs)("div",{className:"item",onMouseEnter:function(){return r.current.style.display="block"},onMouseLeave:function(){return r.current.style.display="none"},children:[Object(u.jsx)("div",{className:"item__title",children:Object(u.jsx)("h3",{children:t.title})}),Object(u.jsxs)("div",{className:"item__info",children:[Object(u.jsxs)("p",{className:t.amount<0?"expense":"income",children:["$",Math.abs(t.amount)]}),Object(u.jsx)("p",{children:t.date}),Object(u.jsx)("button",{className:"item__delete",onClick:function(){return a(t.id)},ref:r,children:"Delete"})]})]},t.id)};n(51);var N=function(){var e=v(),t=Object(l.a)(e,1)[0];return Object(u.jsx)("div",{className:"item-list",children:t.map((function(e){return Object(u.jsx)(C,{item:e},e.id)}))})};n(52);var k=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(S,{}),Object(u.jsx)(N,{})]})};n(53);var A=function(){var e=v(),t=Object(l.a)(e,8),n=t[4],c=t[5],a=t[6],r=t[7];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsxs)("h1",{children:["Photo Grid",Object(u.jsx)("span",{children:"Using firebase storage"})]}),Object(u.jsxs)("div",{className:"chooserBox",children:[Object(u.jsx)("input",{type:"file",onChange:r,ref:n}),Object(u.jsx)("progress",{value:a,max:"100"})]}),Object(u.jsx)("div",{className:"photo-grid",children:c&&c.map((function(e){return Object(u.jsx)("img",{src:e.url,alt:""},e.id)}))})]})})};var P=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(A,{})})},I=n(33),_=Object(c.createContext)(),E=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(l.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),o=Object(l.a)(i,2),j=(o[0],o[1]);return Object(c.useEffect)((function(){return x.onAuthStateChanged((function(e){s(e),j(!1)}))}),[]),Object(u.jsx)(_.Provider,{value:{user:r},children:t})},D=function(e){var t=e.component,n=Object(I.a)(e,["component"]),a=Object(c.useContext)(_).user;return Object(u.jsx)(o.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return a?Object(u.jsx)(t,Object(p.a)({},e)):Object(u.jsx)(o.a,{to:"/login"})}}))},F=(n(26),function(){var e=Object(c.useContext)(_).user;return Object(u.jsxs)("div",{id:"account",children:[Object(u.jsxs)("h1",{children:["User Account ",Object(u.jsx)("span",{children:"using firebase authentication"})]}),Object(u.jsxs)("div",{className:"userAuth",children:[Object(u.jsx)("h1",{children:"Home Page"}),Object(u.jsxs)("h3",{children:["Welcome ",e.email]}),Object(u.jsx)("button",{onClick:function(){return x.signOut()},children:"Sign Out"})]})]})});var U=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(F,{})})},B={email:"",password:"",confirmPassword:""},G=function(){var e=Object(o.g)(),t=Object(c.useState)(B),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),b=j[0],h=j[1],f=function(e){var t=e.target;r(Object(p.a)(Object(p.a)({},a),{},Object(w.a)({},t.name,t.value))),h("")},m=function(){var t=Object(O.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,x.signInWithEmailAndPassword(a.email,a.password);case 4:r(B),e.push("/account"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),h(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{id:"account",children:[Object(u.jsxs)("h1",{children:["User Account ",Object(u.jsx)("span",{children:"using firebase authentication"})]}),Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("h1",{children:"Login Page"}),Object(u.jsxs)("form",{onSubmit:m,children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{type:"text",value:a.email,autoComplete:"off",onChange:f,name:"email"}),Object(u.jsx)("label",{htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",value:a.password,autoComplete:"off",onChange:f,name:"password"}),Object(u.jsx)("button",{type:"submit",children:"Submit"}),Object(u.jsx)("p",{className:"form__error",children:b})]}),Object(u.jsxs)("p",{children:["Not a user? ",Object(u.jsx)(i.b,{to:"/signup",children:"Sign Up"})]})]})]})},M={email:"",password:"",confirmPassword:""},R=function(){var e=Object(o.g)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),b=j[0],h=j[1],f=function(e){var t=e.target;r(Object(p.a)(Object(p.a)({},a),{},Object(w.a)({},t.name,t.value))),h("")},m=function(){var t=Object(O.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a.password===a.confirmPassword){t.next=3;break}return t.abrupt("return",h("Password don`t match"));case 3:return t.prev=3,t.next=6,x.createUserWithEmailAndPassword(a.email,a.password);case 6:r(M),e.push("/account"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),h(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{id:"account",children:[Object(u.jsxs)("h1",{children:["User Account ",Object(u.jsx)("span",{children:"using firebase authentication"})]}),Object(u.jsxs)("div",{className:"signup",children:[Object(u.jsx)("h1",{children:"Sign Up Page"}),Object(u.jsxs)("form",{onSubmit:m,children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{type:"text",value:a.email,autoComplete:"off",onChange:f,name:"email"}),Object(u.jsx)("label",{htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",value:a.password,autoComplete:"off",onChange:f,name:"password"}),Object(u.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(u.jsx)("input",{type:"confirmPassword",value:a.confirmPassword,autoComplete:"off",onChange:f,name:"confirmPassword"}),Object(u.jsx)("button",{type:"submit",children:"Submit"}),Object(u.jsx)("p",{className:"form__error",children:b})]}),Object(u.jsxs)("p",{children:["Already a user? ",Object(u.jsx)(i.b,{to:"/login",children:"Log In"})]})]})]})};var T=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(j,{}),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/",exact:!0,component:k}),Object(u.jsx)(o.b,{path:"/phGallery",component:P}),Object(u.jsx)(D,{path:"/account",exact:!0,component:U}),Object(u.jsx)(o.b,{path:"/login",component:G}),Object(u.jsx)(o.b,{path:"/signup",component:R})]})})]})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(E,{children:Object(u.jsx)(T,{})})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.3e1dc3b1.chunk.js.map